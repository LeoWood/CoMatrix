# CoMatrix

### åŸºæœ¬æ€è·¯

> æ„å»ºå…±ç°çŸ©é˜µï¼Œæˆ‘ä¸€ä¸ªåŸºæœ¬æ€è·¯æ˜¯å…ˆæ ¹æ®æ‰€æœ‰çš„ç›®æ ‡å¯¹è±¡æ„å»ºä¸€ä¸ªå•ä½çŸ©é˜µï¼Œç„¶åå¯¹ç›®æ ‡å¯¹è±¡çš„å…±ç°æƒ…å†µè¿›è¡Œç»Ÿè®¡ã€è®¡ç®—ï¼Œå°†ç›¸åº”çš„ç»“æœè¦†ç›–åˆ°å¯¹åº”çš„çŸ©é˜µå…ƒç´ å³å¯ã€‚å¯¹äºè¿™ç§çŸ©é˜µæ¥è¯´ï¼ŒçŸ©é˜µçš„ç´¢å¼•ã€åˆ—åä½¿ç”¨å¯¹åº”çš„ç›®æ ‡å¯¹è±¡çš„åç§°ä¼šæ¯”è¾ƒæ–¹ä¾¿ï¼Œå› è€Œæƒ³åˆ°äº†ä½¿ç”¨Pythonä¸­çš„Pandasæ¥æ„å»ºçŸ©é˜µã€‚

### ç›®æ ‡å¯¹è±¡ç»Ÿè®¡

> ä»¥ä½œè€…å…±ç°ä¸ºä¾‹ã€‚é¦–å…ˆå¯¹æ‰€æœ‰åˆä½œè€…çš„åŸºæœ¬æƒ…å†µè¿›è¡Œç»Ÿè®¡ï¼Œåˆ†åˆ«æ„å»ºä¸€ä¸ªå­—å…¸ç»Ÿè®¡æ‰€æœ‰ä½œè€…å•ç‹¬å‡ºç°çš„æ¬¡æ•°å’Œä¸€ä¸ªå­—å…¸ç»Ÿè®¡æ‰€æœ‰ä½œè€…ä¸¤ä¸¤å‡ºç°çš„æ¬¡æ•°ã€‚

- å°†æ‰€æœ‰çš„åˆä½œè€…åå­—æ”¾å…¥ä¸€ä¸ªåˆ—è¡¨ï¼Œä»¥é€—å·éš”å¼€ã€‚
- å•ä¸ªä½œè€…å‡ºç°çš„é¢‘æ¬¡ï¼ŒæŒ‰ç…§ä¸€èˆ¬é¢‘æ¬¡ç»Ÿè®¡çš„æ–¹æ³•ï¼Œåˆ¤æ–­è¯¥å¯¹è±¡æ˜¯å¦åœ¨å­—å…¸ä¸­ï¼Œä¸åœ¨åˆ™å¯¹åº”çš„valueåˆå§‹åŒ–ä¸º1ï¼Œåœ¨åˆ™valueåŠ 1ã€‚
- ç¡®å®šå½“å‰ä½œè€…çš„åˆä½œè€…ï¼Œç›®å‰çš„ä¸€ä¸ªåŸºæœ¬æƒ³æ³•æ˜¯éå†åˆä½œè€…æ ·æœ¬ï¼Œå¯¹äºæ¯ä¸€ä¸ªä½œè€…æ¥è¯´ï¼Œå…¶åˆä½œè€…æ˜¯æ’åœ¨ä»–åé¢çš„æ‰€æœ‰ä½œè€…ã€‚äºæ˜¯å¤åˆ¶ä¸€ä¸ªæ ·æœ¬ï¼Œæ¯æ¬¡éå†æ—¶å»æ‰ç¬¬ä¸€ä¸ªä¹Ÿå°±æ˜¯å½“å‰çš„ä½œè€…ï¼Œé‚£ä¹ˆè¿™ä¸ªå¤åˆ¶æ ·æœ¬ä¸­æ‰€æœ‰çš„ä½œè€…å³ä¸ºå½“å‰ä½œè€…çš„åˆä½œè€…ã€‚ï¼ˆè¿™ä¸ªæ€è·¯å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªç»„åˆç®—æ³•ï¼Œä¸çŸ¥é“è¿˜æœ‰æ²¡æœ‰ä¼˜åŒ–çš„æ–¹æ³•ğŸ˜”ï¼Œï¼Œè¿˜è¯·æŒ‡ç‚¹ï¼‰
- å°†è¿™ä¸¤ä¸ªåˆä½œè€…ä»¥é€—å·è¿æ¥ï¼Œç”¨åŒæ ·çš„æ–¹æ³•ç»Ÿè®¡é¢‘æ¬¡ã€‚ä½†æ˜¯è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œæ¯ä¸ªæ ·æœ¬ä¸­ä¸¤ä¸ªä½œè€…çš„é¡ºåºå¯èƒ½ä¸ä¸€è‡´ï¼Œå› æ­¤è¦è¿›è¡Œåˆ¤æ–­ï¼Œç»Ÿä¸€é¡ºåºã€‚

```python
def authors_stat(co_authors_list):
    au_dict = {}  # å•ä¸ªä½œè€…é¢‘æ¬¡ç»Ÿè®¡
    au_group = {}  # ä¸¤ä¸¤ä½œè€…åˆä½œ
    for authors in co_authors_list:
        authors = authors.split(',')  # æŒ‰ç…§é€—å·åˆ†å¼€æ¯ä¸ªä½œè€…
        authors_co = authors  # åˆä½œè€…æ„å»ºä¸€ä¸ªå¤åˆ¶æ ·æœ¬
        for au in authors:
            # ç»Ÿè®¡å•ä¸ªä½œè€…å‡ºç°çš„é¢‘æ¬¡
            if au not in au_dict:
                au_dict[au] = 1
            else:
                au_dict[au] += 1
            # ç»Ÿè®¡åˆä½œçš„é¢‘æ¬¡
            authors_co = authors_co[1:]  # å»æ‰å½“å‰ä½œè€…
            for au_c in authors_co:
                if au > au_c:
                    au, au_c = au_c, au  # ä¿æŒä¸¤ä¸ªä½œè€…åå­—é¡ºåºä¸€è‡´
                co_au = au+','+au_c  # å°†ä¸¤ä¸ªä½œè€…åˆå¹¶èµ·æ¥ï¼Œä¾ç„¶ä»¥é€—å·éš”å¼€
                if co_au not in au_group:
                    au_group[co_au] = 1
                else:
                    au_group[co_au] += 1
    return au_group, au_dict
```

### æ„å»ºå•ä½çŸ©é˜µ

åˆ©ç”¨Pandasï¼Œä»¥ä½œè€…åä¸ºç´¢å¼•å’Œåˆ—è¡¨ï¼Œæ„å»ºä¸€ä¸ªå•ä½çŸ©é˜µï¼š

```python
import pandas as pd
import numpy as np
au_list = list(au_dict.keys())  # å–å‡ºæ‰€æœ‰å•ä¸ªä½œè€…
matrix = pd.DataFrame(np.identity(len(au_list)), columns=au_list, index=au_list)
```

### å…±ç°ç³»æ•°è®¡ç®—

å…±ç°çŸ©é˜µä¸­çš„å…ƒç´ é‡‡ç”¨Equivalenceç³»æ•°è¿›è¡Œå½’ä¸€åŒ–ï¼Œå…¬å¼å¦‚ä¸‹ï¼š

![](formula.png)

å…¶ä¸­ï¼ŒEijä¸ºå…±ç°çŸ©é˜µå…ƒç´ çš„å€¼ï¼ŒFijä¸ºä¸¤ä¸ªç›®æ ‡å¯¹è±¡iå’Œjå…±ç°çš„å­—æ•°ï¼ŒFiä¸ºç›®æ ‡å¯¹è±¡iå‡ºç°çš„æ€»é¢‘æ¬¡ï¼ŒFjä¸ºç›®æ ‡å¯¹è±¡jå‡ºç°çš„æ€»é¢‘æ¬¡ã€‚

```python
def generate_matrix(au_group, matrix):
    for key, value in au_group.items():
        A = key.split(',')[0]
        B = key.split(',')[1]
        Fi = au_dict[A]
        Fj = au_dict[B]
        Eij = value*value/(Fi*Fj)
        #æŒ‰ç…§ä½œè€…è¿›è¡Œç´¢å¼•ï¼Œæ›´æ–°çŸ©é˜µ
        matrix.ix[A, B] = Eij
        matrix.ix[B, A] = Eij
    return matrix
```

ä»¥ä¸Šã€‚